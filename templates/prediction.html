{% extends 'base.html' %}

{% block content %}
  <div class="container mt-5">
    <h2>{{ title }}</h2>
    
    <!-- Use the PredictionForm in the template -->
    <form method="post" class="mt-3">
      {{ prediction_form.hidden_tag() }}

      <div class="form-group">
        <label for="{{ prediction_form.start_date.id }}">{{ prediction_form.start_date.label }}</label>
        {{ prediction_form.start_date(class="form-control", required="true") }}
      </div>

      <div class="form-group">
        <label for="{{ prediction_form.end_date.id }}">{{ prediction_form.end_date.label }}</label>
        {{ prediction_form.end_date(class="form-control", required="true") }}
      </div>

      <div class="form-group">
        {{ prediction_form.submit(class="btn btn-primary") }}
      </div>
    </form>

    <!-- Display temperature predictions -->
    <div class="mt-5">
      <h3>Prédictions de Température</h3>
      <img id="prediction-chart" src="{{ url_for('static', filename='prediction_chart.png') }}" alt="Temperature Chart">
    </div>

    <!-- Button to toggle temperature chart visibility -->
    <button class="btn btn-success mt-3" id="visualize-chart-btn">Visualiser la Courbe</button>

    <!-- Toggle chart visibility script -->
    <script>
      $(document).ready(function() {
        $('#visualize-chart-btn').click(function() {
          $('#prediction-chart').toggle();
        });
      });
    </script>
  </div>
{% endblock %}
